trigger:
  batch: true
  branches:
    include:
    - master
  paths:
    include:
    - Tasks/*
    - azure-pipelines-*.yml

pr:
  autoCancel: true
 
variables:
  sandboxAzureSubscription: 'MTC Denver Sandbox'
  productionAzureSubscription: 'MTC Denver Production'
  sandboxWebAppName: 'mtcden-demo-webapp-ruby-sandbox-app'
  productionWebAppName: 'mtcden-demo-webapp-ruby-production-app'
  acrName: mtcdensandboxdemo
  dockerNamespace: $(acrName).azurecr.io
  dockerImageName: msus-demos/demo-ruby-webapp
  storageAccountName: 

# Build and Test
stages:
- stage: BuildAndTest
  displayName: Build and Test Tasks
  jobs:
  - template: azure-pipelines-task-build.yml
    parameters:
      workingDirectory: $(System.DefaultWorkingDirectory)/Tasks/Terraform/
